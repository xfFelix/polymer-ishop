<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="lt-series-card" assetpath="../elements/"><template><style>:host{display:block;width:31.3%;margin:5px 1%;}.container{width:100%;border:1px solid #ddd;}.imgBox{border-bottom:3px solid #F7A51A;padding:5%;min-height:220px;box-sizing:border-box;}.imgBox img{width:100%;height:54%;}.bottomBox{box-sizing:border-box;padding:10px 5px 5px 5px;background:#fff;display:flex;justify-content:space-between;align-items:center;}.bottomBox .name span{padding:0 8px;}.bottomBox .name .series{border-left:2px solid #dedede;}.bottomBox .name .num{color:var(--app-primary-blue);padding:0;}.price{font-size:25px;color:red;}.price::before{content:"￥";font-size:14px;color:#4A4A4A;}.price::after{content:"万起";font-size:14px;color:#4A4A4A;}@media screen and (max-width:620px){:host{width:100%;margin:10px auto;}}@media screen and (max-width:1079px) and (min-width:621px){:host{width:48%;margin:1%;}}</style><div class="container"><div class="imgBox" style="background: url(../../../images/default_bg.jpg);"><img src$="{{data.seriesDefaultImageURL}}"></div><div class="bottomBox"><div class="name"><span class="brand">{{data.brandName}}</span> <span class="series">{{data.seriesName}}</span> <span class="num">({{data.count}})</span></div><div class="price">{{data.minPrice}}</div></div></div></template><script>var ltSeriesCard=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:"is",get:function(){return"lt-series-card"}},{key:"properties",get:function(){return{data:{type:Object}}}}]),b}(Polymer.Element);customElements.define(ltSeriesCard.is,ltSeriesCard);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9sdC1hdXRvL2VsZW1lbnRzL2x0LXNlcmllcy1jYXJkLmh0bWwiXSwibmFtZXMiOlsibHRTZXJpZXNDYXJkIiwiYSIsImIiLCJiYWJlbEhlbHBlcnMiLCJjbGFzc0NhbGxDaGVjayIsInBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsImFwcGx5IiwiYXJndW1lbnRzIiwiaW5oZXJpdHMiLCJjcmVhdGVDbGFzcyIsImtleSIsImdldCIsImRhdGEiLCJ0eXBlIiwiUG9seW1lciIsIkVsZW1lbnQiLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsImlzIl0sIm1hcHBpbmdzIjoicTFDQUF3MkMsSUFBSUEsWUFBWSxDQUFDLFFBQVEsQ0FBQ0MsQ0FBQyxDQUFDLENBQUMsU0FBU0MsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPQyxZQUFZLENBQUNDLGNBQWMsQ0FBQyxJQUFJLENBQUNGLENBQUMsQ0FBQyxDQUFDQyxZQUFZLENBQUNFLHlCQUF5QixDQUFDLElBQUksQ0FBQyxDQUFDSCxDQUFDLENBQUNJLFNBQVMsRUFBRUMsTUFBTSxDQUFDQyxjQUFjLENBQUNOLENBQUMsQ0FBQyxDQUFDLENBQUNPLEtBQUssQ0FBQyxJQUFJLENBQUNDLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBT1AsWUFBWSxDQUFDUSxRQUFRLENBQUNULENBQUMsQ0FBQ0QsQ0FBQyxDQUFDLENBQUNFLFlBQVksQ0FBQ1MsV0FBVyxDQUFDVixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQ1csR0FBRyxDQUFDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQ0QsR0FBRyxDQUFDLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDQyxJQUFJLENBQUMsQ0FBQ0MsSUFBSSxDQUFDVCxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNMLENBQUMsQ0FBQyxDQUFDZSxPQUFPLENBQUNDLE9BQU8sQ0FBQyxDQUFDQyxjQUFjLENBQUNDLE1BQU0sQ0FBQ3BCLFlBQVksQ0FBQ3FCLEVBQUUsQ0FBQ3JCLFlBQVksQ0FBQyJ9
</script></dom-module></div><dom-module id="lt-series-page"><template><style include="lt-style">:host{display:block;padding:15px 25px;box-sizing:border-box;}.header{color:rgba(0,0,0,0.6);}.header span:last-child{color :var(--app-primary-blue);}.conditionBox{padding:20px 0;display:flex;justify-content:space-between;align-items:center;}.conditionBox .condition{display:inline-block;background:#f5f5f5;min-width:70px;padding:6px;border:1px solid #dedede;}.conditionBox .condition + .condition{margin-left:15px;}.conditionBox .clearAll{display:none;padding:6px;min-width:120px;background:#f5f5f5;border:1px solid #dddddd;text-align:center;}.delIcon{color:#00000054;transition:all .5s;cursor:pointer;}.delIcon.f_r{margin-left:20px;}.delIcon:hover{transform:scale(1.5);color:#ff1212;}.allConditionBox{padding:15px;background:#fff;margin:10px 0;}.allConditionBox .brandBox .allLetters{padding-bottom:10px;border-bottom:2px solid #ddd;}.letter{display:inline-block;width:20px;text-align:center;position:relative;}.letter.iron-selected{color :var(--app-primary-blue);}.letter.iron-selected::before{top:17px;position:absolute;bottom:2px;width:2;content:url(../../../images/menu_arrow.jpg);}.brandBox .brandContainer{margin-top:10px;display:flex;flex-wrap:wrap;}lt-brand{border:1px solid transparent;border-radius:5px;margin-right:10px;}.brandBox .brandContainer lt-brand:hover,lt-brand.iron-selected{background:#d3e5fa;color:#fff;}.searchTypeBox{display:flex;justify-content:space-between;}.searchTypeBox lt-search-type{width:33%;}.seriesList{display:flex;flex-wrap:wrap;}.loading{text-align:center;}.noData{text-align:center;}@media screen and (max-width:620px){:host{padding:10px;font-size:14px;}.conditionBox{flex-direction:column;align-items:flex-start;}.conditionBox .clearAll{margin-top:10px;}.letter.iron-selected::before{content:"";display:none;}.searchTypeBox{flex-direction:column;}.searchTypeBox lt-search-type{width:100%;}.seriesList{flex-direction:column;}}@media screen and (max-width:620px){:host{padding:24px;font-size:16px;line-height:30px;}.letter.iron-selected::before{content:"";display:none;}}@media screen and (max-width:1079px) and (min-width:621px){:host{padding:24px;font-size:16px;line-height:30px;}.letter.iron-selected::before{content:"";display:none;}}</style><div class="pageContainer"><div class="header">当前位置：<span>首页</span> &gt; <span class="">车系列表</span></div><div class="conditionBox"><div>已选条件：<template is="dom-repeat" items="{{conditionArr}}"><span class="condition" data-type$="{{item.type}}">{{item.text}}<span class="delIcon f_r" on-click="_delCondition">X</span></span></template></div><div id="clearAll" class="clearAll" on-click="_cleanSearch"><span class="delIcon f_l">X</span> 清除全部</div></div><div class="allCondition">精确搜寻：<span>({{seriesArr.length}})</span><div class="allConditionBox"><div class="brandBox"><div class="allLetters"><iron-selector selected="{{selectedLetter}}" attr-for-selected="key"><template is="dom-repeat" items="{{allBrand}}" filter="isEnglish"><span class="letter" key="{{item.key}}">{{item.key}}</span></template></iron-selector></div><iron-selector id="brandContainer" class="brandContainer" selected="{{brandInd}}" attr-for-selected="id"><template is="dom-repeat" items="{{brandList}}" id="ltBrandRepeat"><lt-brand data="{{item}}" id="{{_setBrandId(item.brandId)}}"></lt-brand></template></iron-selector></div><div class="searchTypeBox"><lt-search-type selected="{{vehicleType}}" attr-for-selected="id"><div slot="title">按车身</div><span id="car">轿车</span> <span id="suv">SUV</span> <span id="mpv">MPV</span> <span id="run">跑车</span></lt-search-type><lt-search-type selected="{{priceType}}" attr-for-selected="id"><div slot="title">按价位</div><span id="price30">30万以下</span> <span id="price50">30-50万</span> <span id="price80">50-80万</span> <span id="price100">80-100万</span> <span id="price150">100-150万</span> <span id="price150_">150万以上</span></lt-search-type><lt-search-type selected="{{seatType}}" attr-for-selected="id"><div slot="title">按座位数</div><span id="seat2">2座</span> <span id="seat4">4-5座</span> <span id="seat6">6-7座</span> <span id="seat7">7座以上</span></lt-search-type></div></div></div><div class="loading" hidden="{{!isloading}}"><paper-spinner active=""></paper-spinner></div><div class="noData" hidden="{{!noData}}">没有数据</div><div class="seriesList"><template is="dom-repeat" items="{{seriesArr}}"><lt-series-card data="{{item}}" on-click="_getModel"></lt-series-card></template></div></div><iron-ajax id="getSalesBrand" method="POST" url="{{_calURL('shop/getVehicleBrandCodeOnSales')}}" content-type="application/json" body="{}" handle-as="json" on-response="_responseSalesBrand"></iron-ajax><iron-ajax id="getSalesSeries" method="POST" url="{{_calURL('shop/getVehicleSeriesCodeOnSales')}}" content-type="application/json" handle-as="json" loading="{{isloading}}" on-response="_responseSalesSeries"></iron-ajax></template><script>var ltSeriesPage=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:"isEnglish",value:function(a){return"#"!=a.key}},{key:"_setBrandId",value:function(a){return"id"+a}},{key:"_getModel",value:function(a){var b=a.model.__data.item;return 1==b.count?void(location.hash="#/car-detail/"+b.uid):void(localStorage.setItem("brandId",b.brandId),localStorage.setItem("seriesId",b.seriesId),location.hash="#/model")}},{key:"_delCondition",value:function(a){var b=a.composedPath()[1].getAttribute("data-type");"brand"===b?this.brandInd=null:"vehicle"===b?this.vehicleType=null:"price"===b?this.priceType=null:"seat"===b?this.seatType=null:void 0}},{key:"_responseSalesSeries",value:function(a){var b=a.detail.response.seriesPage||[];this.seriesArr=b,this.noData=0==b.length}},{key:"_cleanSearch",value:function(){this.conditionArr=[],this.setProperties({brandInd:null,vehicleType:null,priceType:null,seatType:null})}},{key:"_checkSearch",value:function(a,b,c,d){var e=[],f={};a&&(e.push({text:this.shadowRoot.querySelector("#"+a).data.brandName,type:"brand"}),f.brandId=a.substring(2)),b&&e.push({text:this.shadowRoot.querySelector("#"+b).innerText,type:"vehicle"}),c&&(e.push({text:this.shadowRoot.querySelector("#"+c).innerText,type:"price"}),"price30"===c?f.highestPrice="30":"price50"===c?(f.lowestPrice="30",f.highestPrice="50"):"price80"===c?(f.lowestPrice="50",f.highestPrice="80"):"price100"===c?(f.lowestPrice="80",f.highestPrice="100"):"price150"===c?(f.lowestPrice="100",f.highestPrice="150"):"price150_"===c?f.lowestPrice="150":void 0),d&&(e.push({text:this.shadowRoot.querySelector("#"+d).innerText,type:"seat"}),"seat2"===d?(f.leastNoOfSeat="2",f.mostNoOfSeat="2"):"seat4"===d?(f.leastNoOfSeat="4",f.mostNoOfSeat="5"):"seat6"===d?(f.leastNoOfSeat="6",f.mostNoOfSeat="7"):"seat7"===d?f.leastNoOfSeat="7":void 0),this.conditionArr=e,this.$.getSalesSeries.body=f,this.$.getSalesSeries.generateRequest()}},{key:"_numChange",value:function(a){a&&(2<=a.length?this.$.clearAll.style.display="inline":this.$.clearAll.style.display="none")}},{key:"_letterChange",value:function(a){if(a){this;this.firstLoad&&(this.brandInd=null);for(var b=0;b<this.allBrand.length;b++)if(this.allBrand[b].key==a)return this.brandList=this.allBrand[b].value,void this.$.ltBrandRepeat.render();this.brandList=[]}}},{key:"_responseSalesBrand",value:function(a){this.allBrand=a.detail.response.brandPage||[];var b;searchType.brand?(this.selectedLetter=searchType.brand.firstWordPy,b="id"+searchType.brand.brandId):(this.selectedLetter="A",b=null),this.setProperties({brandInd:b,vehicleType:searchType.vehicleType||null,priceType:searchType.price||null,seatType:searchType.seat||null}),this.firstLoad=!0}},{key:"_checkPage",value:function(a){"series"==a&&this.$.getSalesBrand.generateRequest()}},{key:"show",value:function(){this.style.display="block"}},{key:"hide",value:function(){this.firstLoad=!1,this.dispatchEvent(new CustomEvent("hide",{}),!1),this.style.display="none"}}],[{key:"is",get:function(){return"lt-series-page"}},{key:"properties",get:function(){return{letterArr:{type:Array,value:function(){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}},page:{type:String,observer:"_checkPage"},selectedLetter:{type:String,observer:"_letterChange"},conditionArr:{type:Array,observer:"_numChange"},firstLoad:{type:Boolean,value:!1},seriesArr:{type:Array}}}},{key:"observers",get:function(){return["_checkSearch(brandInd,vehicleType,priceType,seatType)"]}}]),b}(ltMixin(Polymer.Element));customElements.define(ltSeriesPage.is,ltSeriesPage);</script></dom-module></body></html>