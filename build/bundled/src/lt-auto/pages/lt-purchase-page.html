<html><head></head><body><dom-module id="lt-purchase-page"><template><style include="lt-style">:host{display:block;padding:15px 25px;box-sizing:border-box;}.header{color:rgba(0,0,0,0.6);text-align:center;width:100%;}.header span:last-child{color :var(--app-primary-blue);}.carBox{width:100%;text-align:center;margin-top:20px;}.carBox table{width:80%;border-collapse:collapse;margin:0 auto;}.carBox table tr td{border :1px solid #ddd;padding:10px;}.carBox table thead{background:#F5F5F5;}.carBox table tbody{background:#fff;}.carBox .imgBox{width:30%;}.brand{display:inline-block;margin-right:10px;}.brand::after{content:" | ";}.series{display:inline-block;margin-left:0px;}.model{display:block;color:#999999;font-weight:300;margin-top:8px;}.price{font-size:30px;color:red;}.price::before{content:"￥";font-size:14px;color:#4A4A4A;}.price::after{content:"万";font-size:14px;color:#4A4A4A;}@media screen and (max-width:620px){:host{padding:10px;font-size:14px;}}</style><div class="pageContainer"><div class="header">当前位置：<span>首页</span> &gt; <span>{{data.brandName}}</span> &gt; <span>{{data.seriesName}}</span> &gt; <span>下单</span></div><div class="carBox"><table><thead><tr><td></td><td>产品</td><td>价格</td></tr></thead><tbody><tr><td class="imgBox" style="background-image: url({{data.seriesBackgroundURL}})"><img src$="{{data.seriesDefaultImageURL}}" width="100%"></td><td><span class="brand">{{data.brandName}}</span> <span class="series">{{data.seriesName}}</span> <span class="model">{{data.modelName}}</span></td><td><span class="price">{{data.price}}</span></td></tr></tbody></table></div><lt-purchase-element id="purchaseEle" wechat-code="{{wechatCode}}" on-cancel="_cancel" ali-code="{{aliCode}}" status-id="{{vehicleId}}"></lt-purchase-element></div><iron-ajax id="getDetail" method="POST" url="{{_calURL('shop/getVehicleDetailsByUid')}}" content-type="application/json" handle-as="json" on-response="_responDetail"></iron-ajax><iron-ajax id="getQrcode" method="POST" url="{{_calPayUrl('shop/qrCodePay')}}" content-type="application/json" handle-as="json" on-response="_responQrcode"></iron-ajax></template><script>var ltPurchasePage=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:"_cancel",value:function(){history.go(-1)}},{key:"_responQrcode",value:function(a){for(var b=a.detail.response,c=0;c<b.length;c++)"WeChatPay"==b[c].platform&&(this.wechatCode=b[c].qrCodeByte),"AliPay"==b[c].platform&&(this.aliCode=b[c].qrCodeByte)}},{key:"_responDetail",value:function(a){this.data=a.detail.response[0]}},{key:"_checkId",value:function(a,b){a&&"purchase"==b&&(this.$.getDetail.body={vehicleId:a},this.$.getDetail.generateRequest(),this.$.getQrcode.body={vehicleUid:a,outTradeNumber:"vehicle_",body:"vehicle,"+header["X-USERNAME"]},this.$.getQrcode.generateRequest())}},{key:"_cancel",value:function(){history.go(-1)}}],[{key:"is",get:function(){return"lt-purchase-page"}},{key:"properties",get:function(){return{page:String,vehicleId:{type:String},data:Object}}},{key:"observers",get:function(){return["_checkId(vehicleId,page)"]}}]),babelHelpers.createClass(b,[{key:"show",value:function(){this.style.display="block"}},{key:"hide",value:function(){this.$.purchaseEle.clearInterval(),this.dispatchEvent(new CustomEvent("hide",{}),!1),this.style.display="none"}}]),b}(ltMixin(Polymer.Element));customElements.define(ltPurchasePage.is,ltPurchasePage);</script></dom-module></body></html>